(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0307acfc"],{"9baf":function(e,a,t){"use strict";var s=t("bd07"),r=t.n(s);r.a},"9c97":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"login-wrap-phone"},[t("div",{staticClass:"bg-login"},[t("div",[t("div",{staticClass:"ms-login"},[e._m(0),t("a-form",{staticClass:"ms-content",attrs:{model:e.param,form:e.form},on:{submit:e.handleSubmit}},[t("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:19}}},[t("div",{staticClass:"phone"},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:e.rules.userName,expression:"rules.userName"}],attrs:{placeholder:"请设置用户名"}})],1),t("div",{staticClass:"label-name",attrs:{slot:"label"},slot:"label"},[e._v("用户名")])]),t("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:19}}},[t("div",{staticClass:"phone"},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:e.rules.account,expression:"rules.account"}],attrs:{placeholder:"手机号或邮箱，可用于用户登录或找回密码"}})],1),t("div",{staticClass:"label-name",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label-align-14"},[e._v("账")]),e._v("号")])]),t("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:19}}},[t("div",{staticClass:"phone"},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:e.rules.password,expression:"rules.password"}],attrs:{type:"password",placeholder:"请设置登录密码"}})],1),t("div",{staticClass:"label-name",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label-align-14"},[e._v("密")]),e._v("码")])]),t("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:19}}},[t("div",{staticClass:"send-code"},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:e.rules.sendCode,expression:"rules.sendCode"}],attrs:{type:"",placeholder:"请输入验证码"}}),t("a-button",{staticClass:"login-send-code",attrs:{disabled:e.codeDisabled},on:{click:function(a){return e.getCode()}}},[e._v(e._s(e.tipsCode))])],1),t("div",{staticClass:"label-name",attrs:{slot:"label"},slot:"label"},[e._v("验证码")])]),t("a-form-item",{staticClass:"form-checked"},[t("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:e.rules.agreement,expression:"rules.agreement"}]},[e._v(" 已阅读并同意 "),t("a",{attrs:{href:""}},[e._v("隐私协议")]),e._v(" 和 "),t("a",{attrs:{href:""}},[e._v("在线服务系列协议")])])],1),t("div",{staticClass:"login-btn"},[t("a-button",{attrs:{type:"primary","html-type":"submit",loading:e.loading}},[e._v("立即注册")])],1)],1)],1),t("div",{staticClass:"login-right"},[t("div",{staticClass:"login-right-top"},[e._v("已有账号？")]),t("div",{staticClass:"login-right-top"},[e._v("立即登录！")]),t("div",{staticClass:"login-right-small"},[e._v("现在登录，开启深兰机器学习之旅！")]),t("router-link",{staticClass:"login-goto",attrs:{to:"/login"}},[e._v("登 录")])],1)])])])},r=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"ms-title"},[t("span",[e._v("账号注册")]),t("span",[e._v("使用微信扫描快捷注册>>>")])])}],o={data:function(){var e=this;return{codeDisabled:!1,loading:!1,tipsCode:"获取短信验证码",count:60,InspectionCode:"",param:{account:"",sendCode:""},rules:{userName:["username",{rules:[{validator:function(a,t,s){return e.checkUserName(a,t,s)}}],validateTrigger:"blur"}],account:["account",{rules:[{validator:function(a,t,s){return e.checkAccount(a,t,s)}}],validateTrigger:"blur"}],password:["password",{rules:[{validator:function(a,t,s){return e.checkPassword(a,t,s)}}],validateTrigger:"blur"}],sendCode:["code",{rules:[{validator:function(a,t,s){return e.checkSendCode(a,t,s)}}],validateTrigger:"blur"}],agreement:["agreement",{rules:[{validator:function(a,t,s){return e.checkAgreement(a,t,s)}}],validateTrigger:"blur"}]},form:this.$form.createForm(this,{name:"register_rule"})}},methods:{handleSubmit:function(e){var a=this;e.preventDefault(),this.loading=!0,this.form.validateFields((function(e,t){var s=t.account,r=t.agreement,o=t.code,n=t.password,i=t.username;e?a.loading=!1:a.$api.login.registrationService({account:s,agreement:r,code:o,username:i,password:a.$md5(n)}).then((function(e){a.loading=!1,e.success?a.$router.push({name:"login"}):a.$message.error(e.msg)}))}))},checkUserName:function(e,a,t){if(a){var s=a.replace(/[\u4e00-\u9fa5]/g,"00");if(s.length>14){var r="最长14个英文或7个汉字";return void t(r)}t()}else{var o="请设置用户名";t(o)}},checkAccount:function(e,a,t){if(a){var s=/^[1][3,4,5,7,8][0-9]{9}$/,r=/^\w+@[a-z0-9]+\.[a-z]{2,4}$/;if(s.test(a)||r.test(a))t();else{var o="账号格式不正确";t(o)}t()}else{var n="手机号或邮箱，可用于用户登录或找回密码";t(n)}},checkPassword:function(e,a,t){if(a){if(/\s/g.test(a)){var s="不允许有空格";t(s)}else if(a.length<8||a.length>14){var r="与长度8-14个字符不符合";t(r)}t()}else{var o="请设置登录密码";t(o)}},checkSendCode:function(e,a,t){if(a)t();else{var s="请输入验证码";t(s)}},checkAgreement:function(e,a,t){a&&t();var s="请先阅读并同意使用协议";t(s)},getCode:function(){var e=this;this.codeDisabled=!0;var a=this.form.getFieldsValue(["account"]),t=a.account;t?this.$api.login.codeService({account:t}).then((function(a){if(!a.success)return!1;e.InspectionCode=a.data,e.count=60,e.countDown()})):(this.$message.error("请输入账号"),this.codeDisabled=!1)},countDown:function(){var e=this;this.tipsCode="重新发送（".concat(this.count,"）");var a=setInterval((function(){e.count=e.count-1,e.tipsCode="重新发送（".concat(e.count,"）"),e.count<=-1&&(e.tipsCode="获取短信验证码",e.codeDisabled=!1,clearInterval(a))}),1e3)}}},n=o,i=(t("9baf"),t("2877")),l=Object(i["a"])(n,s,r,!1,null,"3e748aae",null);a["default"]=l.exports},bd07:function(e,a,t){}}]);