(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-769c72ea"],{"339c":function(t,a,e){},9031:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"auto-forget-password"},[e("div",{staticClass:"bg-login"},[e("div",[e("div",{staticClass:"ms-login"},[e("div",{staticClass:"ms-title"},[e("span",[e("a-icon",{staticClass:"return-left",attrs:{type:"left"},on:{click:t.goBack}}),t._v("忘记密码")],1)]),e("a-form",{staticClass:"ms-content",attrs:{model:t.param,form:t.form},on:{submit:t.handleSubmit}},[e("a-form-item",{attrs:{"label-col":{span:5},"wrapper-col":{span:19}}},[e("div",{staticClass:"phone"},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:t.rules.account,expression:"rules.account"}],attrs:{placeholder:"请输入注册的手机号或邮箱"}})],1),e("div",{staticClass:"label-name",attrs:{slot:"label"},slot:"label"},[e("span",{staticClass:"label-align-28"},[t._v("账")]),t._v("号 ")])]),e("a-form-item",{attrs:{"label-col":{span:5},"wrapper-col":{span:19}}},[e("div",{staticClass:"send-code"},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:t.rules.sendCode,expression:"rules.sendCode"}],attrs:{type:"",placeholder:"请输入验证码"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.submitForm()}}}),e("a-button",{staticClass:"login-send-code",attrs:{disabled:t.codeDisabled},on:{click:function(a){return t.getCode()}}},[t._v(t._s(t.tipsCode))])],1),e("div",{staticClass:"label-name",attrs:{slot:"label"},slot:"label"},[e("span",{staticClass:"label-align-8"},[t._v("验")]),e("span",{staticClass:"label-align-8"},[t._v("证")]),t._v("码 ")])]),e("a-form-item",{attrs:{"label-col":{span:5},"wrapper-col":{span:19}}},[e("div",{staticClass:"phone"},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:t.rules.password,expression:"rules.password"}],attrs:{type:"password",placeholder:"请输入新密码"}})],1),e("div",{staticClass:"label-name",attrs:{slot:"label"},slot:"label"},[e("span",{staticClass:"label-align-28"},[t._v("密")]),t._v("码 ")])]),e("a-form-item",{attrs:{"label-col":{span:5},"wrapper-col":{span:19},prop:"password"}},[e("div",{staticClass:"phone"},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:t.rules.confirmPassword,expression:"rules.confirmPassword"}],attrs:{type:"password",placeholder:"请确认新密码"}})],1),e("div",{staticClass:"label-name",attrs:{slot:"label"},slot:"label"},[t._v("确认密码")])]),e("div",{staticClass:"login-btn"},[e("a-button",{attrs:{type:"primary","html-type":"submit",loading:t.loading}},[t._v("确 定")])],1)],1)],1),e("div",{staticClass:"login-left"},[e("div",{staticClass:"login-left-top"},[t._v("还没有账号？")]),e("div",{staticClass:"login-left-top"},[t._v("立即免费注册！")]),e("div",{staticClass:"login-left-small"},[t._v("现在注册，开启深兰机器学习之旅！")]),e("router-link",{staticClass:"login-goto",attrs:{to:"/register-phone"}},[t._v("注册")])],1)])])])},o=[],r={data:function(){var t=this;return{codeDisabled:!1,loading:!1,tipsCode:"获取短信验证码",count:60,InspectionCode:"",param:{account:"",sendCode:""},rules:{confirmPassword:["confirmPassword",{rules:[{validator:function(a,e,s){return t.checkConfirmPassword(a,e,s)}}],validateTrigger:"blur"}],account:["account",{rules:[{validator:function(a,e,s){return t.checkAccount(a,e,s)}}],validateTrigger:"blur"}],password:["password",{rules:[{validator:function(a,e,s){return t.checkPassword(a,e,s)}}],validateTrigger:"blur"}],sendCode:["code",{rules:[{validator:function(a,e,s){return t.checkSendCode(a,e,s)}}],validateTrigger:"blur"}]},form:this.$form.createForm(this,{name:"register_rule"})}},methods:{goBack:function(){this.$router.go(-1)},handleSubmit:function(t){var a=this;t.preventDefault(),this.loading=!0,this.form.validateFields((function(t,e){var s=e.account,o=e.agreement,r=e.code,n=e.password,i=e.username;t?a.loading=!1:a.$api.login.passwordRefindService({account:s,agreement:o,code:r,username:i,password:a.$md5(n)}).then((function(t){a.loading=!1,t.success||a.$message.error(t.msg),a.$router.push({name:"login"})}))}))},checkAccount:function(t,a,e){if(a){var s=/^[1][3,4,5,7,8][0-9]{9}$/,o=/^\w+@[a-z0-9]+\.[a-z]{2,4}$/;if(s.test(a)||o.test(a))e();else{var r="账号格式不正确";e(r)}e()}else{var n="请输入注册的手机号或邮箱";e(n)}},checkPassword:function(t,a,e){if(a){var s=/[0-9a-zA-Z\W]{8,14}/g;if(/\s/g.test(a)){var o="不允许有空格";e(o)}else if(a.length<8||a.length>14){var r="与长度8-14个字符不符合";e(r)}else if(!s.test(a)){var n="密码只包含大小写字母、数字和标点符号";e(n)}e()}else{var i="请输入新密码";e(i)}},checkConfirmPassword:function(t,a,e){if(a)e();else{var s="请确认新密码";e(s)}},checkSendCode:function(t,a,e){if(a)e();else{var s="请输入验证码";e(s)}},getCode:function(){var t=this;this.codeDisabled=!0;var a=this.form.getFieldsValue(["account"]),e=a.account;e?this.$api.login.codeService({account:e}).then((function(a){if(!a.success)return!1;t.InspectionCode=a.data,t.count=60,t.countDown()})):(this.$message.error("请输入账号"),this.codeDisabled=!1)},countDown:function(){var t=this;this.tipsCode="重新发送（".concat(this.count,"）");var a=setInterval((function(){t.count=t.count-1,t.tipsCode="重新发送（".concat(t.count,"）"),t.count<=-1&&(t.tipsCode="获取短信验证码",t.codeDisabled=!1,clearInterval(a))}),1e3)}}},n=r,i=(e("b753"),e("2877")),l=Object(i["a"])(n,s,o,!1,null,"3f8fa26b",null);a["default"]=l.exports},b753:function(t,a,e){"use strict";var s=e("339c"),o=e.n(s);o.a}}]);