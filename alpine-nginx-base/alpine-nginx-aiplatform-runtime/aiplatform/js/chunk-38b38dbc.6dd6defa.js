(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38b38dbc"],{"0c42":function(t,e,a){},"25e5":function(t,e,a){"use strict";var i=a("925d"),n=a.n(i);n.a},"2fbc":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auto-breadcrumb"},[a("a-breadcrumb",{attrs:{separator:">",routes:t.routes},scopedSlots:t._u([{key:"itemRender",fn:function(e){var i=e.route,n=(e.params,e.routes),s=e.paths;return[n.indexOf(i)===n.length-1||0===n.indexOf(i)?a("span",[t._v(" "+t._s(i.breadcrumbName)+" ")]):a("router-link",{attrs:{to:"/"+s.join("/")}},[t._v(" "+t._s(i.breadcrumbName)+" ")])]}}])}),t.isShowCommonQus?a("div",[a("span",{staticClass:"right-tips",on:{click:t.handleShowQues}},[t._v("常见问题?")])]):t._e(),t.isShowModelStrategy?a("div",[a("span",{staticClass:"right-tips goto"},[t._v("模型训练攻略>>")])]):t._e()],1)},n=[],s={data:function(){return{}},props:["routes","isShowCommonQus","isShowModelStrategy","handleShowQues"],methods:{goTo:function(t){this.$router.push({name:t})}}},o=s,r=(a("25e5"),a("2877")),l=Object(r["a"])(o,i,n,!1,null,"5f60bff4",null);e["a"]=l.exports},3073:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auto-spin-loading45454545454"},[a("a-spin")],1)},n=[],s={name:"Spin"},o=s,r=(a("794c"),a("2877")),l=Object(r["a"])(o,i,n,!1,null,"9f9f148c",null);e["a"]=l.exports},"349f":function(t,e,a){},"3ddd":function(t,e,a){"use strict";var i=a("f372"),n=a.n(i);n.a},5146:function(t,e,a){"use strict";var i=a("349f"),n=a.n(i);n.a},"794c":function(t,e,a){"use strict";var i=a("c357"),n=a.n(i);n.a},8157:function(t,e,a){},"925d":function(t,e,a){},"94ebd":function(t,e,a){"use strict";var i=a("0c42"),n=a.n(i);n.a},a06d:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auto-common-question"},[a("div",{staticClass:"title"},[a("span",[t._v("常见问题")]),a("a-icon",{staticClass:"question-icon-close",attrs:{type:"close-circle"},on:{click:t.handleShowQues}})],1),a("a-collapse",{attrs:{accordion:!0,defaultActiveKey:"3"},scopedSlots:t._u([{key:"expandIcon",fn:function(t){return[a("a-icon",{attrs:{type:"down",rotate:t.isActive?180:0}})]}}])},t._l(t.textList,(function(e){return a("a-collapse-panel",{key:e.key,attrs:{header:e.title}},[t._l(e.text,(function(e,i){return a("div",{key:i,staticClass:"text-list"},[t._v(" "+t._s(e)+" ")])})),a("div",{staticClass:"question-img"},[e.imgURL?a("img",{attrs:{src:e.imgURL,alt:""}}):t._e()])],2)})),1)],1)},n=[],s=a("cc90"),o=a.n(s),r={data:function(){return{textList:[{title:"1、如何设计分类？",key:"1",text:["a.每个标签就是对这张图片希望识别出的全部结果。标签的上限为1000种。","b.标签名需要以字母或数字或下划线的格式，不支持中文命名。"]},{title:"2、图片的具体格式要求",key:"2",text:["a.训练集图片需要和实际场景要识别的图片环境一致，举例：如果实际场景要识别的图片都是手机摄录的，那训练的图片也需要同样的场景获得，而不要采用网上随便下载的图片。","b.每个标签的图片需要覆盖实际场景里面的可能性，如拍照角度、光线明暗的变化，训练集覆盖的场景越多，模型的泛化能力越强。","c.目前支持图片类型为jpg, png, bmp, jpeg，图片大小限制在4M内，长宽比在3：1以内，其中最长边需要小于4096px，最短边需要大于30px，一个模型的图片总量限制10万张图片。物体检测1个模型需要至少4张图片。"]},{title:"3、批量上传的压缩包格式要求",key:"3",text:["压缩包仅支持zip格式；","压缩包大小需要在5GB以内；","注意，压缩包里的文件夹命名是标签名，只能包含数字/字母/下划线。同时压缩包的目录结构如下图所示："],imgURL:o.a}]}},methods:{goTo:function(t){this.$router.push({name:t})}},props:["handleShowQues"]},l=r,c=(a("94ebd"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"35323900",null);e["a"]=u.exports},c357:function(t,e,a){},c3d8:function(t,e,a){"use strict";var i=a("8157"),n=a.n(i);n.a},c968:function(t,e,a){"use strict";function i(t){var e=null;return void 0!==window.createObjectURL?e=window.createObjectURL(t):void 0!==window.URL?e=window.URL.createObjectURL(t):void 0!==window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e}a.d(e,"a",(function(){return i}))},cc90:function(t,e,a){t.exports=a.p+"img/common_ques.e5871c98.png"},ccd8:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"train-content auto-upload-file"},[a("Breadcrumb",{attrs:{routes:t.routes,isShowCommonQus:!0,handleShowQues:t.handleShowQues}}),a("div",{staticClass:"upload-body"},[a("a-row",{staticClass:"list"},[a("a-col",{staticClass:"body-left",attrs:{span:8}},[t._v(" 数据集对应模型类型： ")]),a("a-col",{attrs:{span:16}},[t._v(t._s(t.imagesType))])],1),a("a-row",{staticClass:"list"},[a("a-col",{staticClass:"body-left",attrs:{span:8}},[t._v(" 数据集名称： ")]),a("a-col",{attrs:{span:16}},[t._v(" "+t._s(t.mydataName)+" ")])],1),a("a-row",{staticClass:"list"},[a("a-col",{staticClass:"body-left",attrs:{span:8}},[a("span",[t._v("上传数据：")])]),a("a-col",{attrs:{span:16}},[a("span",{class:{"upload-file":!0,action:0===t.currentIndex,cursor:"myDataList"===t.from},on:{click:function(e){return t.handleAction(0)}}},[t._v("单个分类上传")]),a("span",{class:{"upload-file":!0,action:1===t.currentIndex,cursor:"myDataList"===t.from},on:{click:function(e){return t.handleAction(1)}}},[t._v("批量上传")])])],1),a("a-row",[a("a-col",{attrs:{span:8}}),0===t.currentIndex?a("a-col",{staticClass:"type-select",attrs:{span:16}},[a("UploadSingle",{attrs:{dataTypeList:t.dataTypeList}})],1):t._e()],1),a("a-row",[1===t.currentIndex?a("a-col",{attrs:{span:24}},[a("BatchUpload")],1):t._e()],1),t.isShowQues?a("CommonQustion",{attrs:{handleShowQues:t.handleShowQues}}):t._e(),a("Spin",{directives:[{name:"show",rawName:"v-show",value:t.isShowSpinLoading,expression:"isShowSpinLoading"}]})],1)],1)},n=[],s=a("2fbc"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auto-upload-file-single"},[a("a-select",{staticStyle:{width:"220px"},attrs:{showSearch:"",optionFilterProp:"children",placeholder:"请选择分类名称",filterOption:t.filterOption},on:{change:t.handleSelectChange},model:{value:t.typeValue,callback:function(e){t.typeValue=e},expression:"typeValue"}},t._l(t.dataTypeList,(function(e,i){return a("a-select-option",{key:i,attrs:{value:e.id}},[t._v(t._s(e.labelName))])})),1),a("div",{class:t.typeValue?"upload-file-single":"upload-file-single-nodrop"},[a("div",{staticClass:"avatar-uploader",on:{click:t.showUploadBtn}},[t._m(0)]),a("div",{staticClass:"btn"},[a("a-button",{attrs:{disabled:!t.typeValue,type:"primary"},on:{click:t.finishGoTo}},[t._v("完成")])],1),a("a-modal",{attrs:{title:"上传图片",visible:t.correctModalVisible,confirmLoading:t.confirmLoading,width:740},on:{cancel:t.handleCancel}},[a("template",{slot:"footer"},[a("span",{staticClass:"model-add-images-num12121"},[t._v("共计"+t._s(t.fileList.length)+"张图片")]),a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:t.handleUpload}},[t._v(" 扩充 ")]),a("a-button",{on:{click:t.handleCancel}},[t._v(" 取消 ")])],1),0===t.fileList.length?a("div",{staticClass:"auto-upload-single-modal-body"},[a("i",{staticClass:"iconfont icontupian images-icon",attrs:{type:"upload"}}),a("a-upload",{staticClass:"avatar-uploader",attrs:{multiple:!0,showUploadList:!1,fileList:t.fileList,action:"/aiplatform/datacenter/label/file",data:t.beforeData,name:"imgFiles",beforeUpload:t.beforeUpload,accept:"image/*"},on:{change:t.handleChange}},[a("a-button",{attrs:{type:"primary"}},[t._v("点击添加图片")])],1),a("div",{staticClass:"tips-ctrl-21"},[t._v(" 按住Ctrl可选多个文件 ")]),a("div",{staticClass:"upload-tips"},t._l(t.tipsList,(function(e,i){return a("div",{key:i,staticClass:"list-tips"},[t._v(" "+t._s(e)+" ")])})),0)],1):a("div",{staticClass:"auto-upload-single-modal-body"},[a("a-upload",{attrs:{action:"/aiplatform/datacenter/label/file",data:t.beforeData,name:"imgFiles",listType:"picture-card",fileList:t.fileList,beforeUpload:t.beforeUpload,multiple:!0,accept:"image/*"},on:{preview:t.handlePreview,change:t.handleChange}},[a("div",[a("a-icon",{attrs:{type:"plus"}}),a("div",{staticClass:"ant-upload-text"},[t._v("上传图片")])],1)]),a("a-modal",{attrs:{visible:t.previewVisible,footer:null},on:{cancel:t.handleImgCancel}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:t.previewImage}})])],1)],2)],1)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auto-upload"},[a("i",{staticClass:"iconfont iconshangchuantupian icon-upload-file"}),a("div",{staticClass:"auto-upload-text"},[t._v("点击上传图片")])])}],l=a("bc3a"),c=a.n(l),u=a("c968");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(a,!0).forEach((function(e){f(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function h(t){return v(t)||b(t)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function b(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function v(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var g={data:function(){var t=JSON.parse(localStorage.getItem("userInfo")),e=t.token,a=this.$route.params,i=a.id,n=a.typeId;return{fileList:[],previewImage:"",beforeData:{labelId:n},typeValue:n,modelId:i,previewVisible:!1,tipsList:["1.支持图片格式：jpg、png、bmp、jpeg，大小限制在*M以内；","2.建议图片尺寸：最长不超过***px，最小不低于**px，长宽比*:*以内；","3.单次上传图片限制**个；","4.若遇到上传失败。请先检查网络设置，有问题请联系QQ群：*******；"],correctModalVisible:!1,confirmLoading:!1,uploading:!1,token:e}},methods:{goTo:function(t,e){this.$router.push({name:t,params:e})},finishGoTo:function(){var t=this.$route.params,e=t.id,a=t.name,i=t.typeName,n=t.typeId,s=t.from;"myDataList"===s?this.$router.push({name:"myDataList"}):"myDataDetail"===s?this.goTo("myDataDetail",{id:e,name:a}):"typeDetail"===s&&this.goTo("typeDetail",{id:e,name:a,typeName:i,typeId:n,from:"1"})},filterOption:function(t,e){if(e&&e.componentOptions&&e.componentOptions.children&&e.componentOptions.children[0].text)return e.componentOptions.children[0].text.toLowerCase().indexOf(t.toLowerCase())>=0},handleSelectChange:function(t){this.typeValue=t},beforeUpload:function(t){return this.fileList=[].concat(h(this.fileList),[t]),!1},handleRemove:function(t){var e=this.fileList.indexOf(t),a=this.fileList.slice();a.splice(e,1),this.fileList=a},handleChange:function(t){var e=t.fileList;e=e.map((function(t){var e=Object(u["a"])(t.originFileObj);return p({},t,{thumbUrl:e})})),this.fileList=e},handlePreview:function(t){this.previewImage=t.url||t.thumbUrl,this.previewVisible=!0},handleUpload:function(){var t=this,e=this,a=this.fileList,i=new window.FormData;a.forEach((function(e){i.append("imgFiles",e.originFileObj),i.append("labelId",t.typeValue)})),this.confirmLoading=!0;var n={headers:{"Content-Type":"multipart/form-data;boundary="+(new Date).getTime(),token:this.token}},s=c.a.create({withCredentials:!0});a.length>0?s.post("/aiplatform/datacenter/label/file",i,n).then((function(a){a.data&&a.data.success?(e.fileList=[],e.confirmLoading=!1,e.correctModalVisible=!1,e.$message.success("文件上传成功"),t.finishGoTo()):e.$message.error(a.data.msg)})).catch((function(){e.confirmLoading=!1,e.$message.error("文件上传失败")})):this.$message.error("请先选择图片")},handleCancel:function(t){this.correctModalVisible=!1},handleImgCancel:function(t){this.previewVisible=!1},showUploadBtn:function(t){this.fileList=[],this.typeValue&&(this.correctModalVisible=!0)}},props:["dataTypeList"]},y=g,w=(a("5146"),a("2877")),L=Object(w["a"])(y,o,r,!1,null,"4c69a934",null),C=L.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auto-upload-file-batch"},[a("div",{staticClass:"auto-upload-file-batch-inner"},[a("div",{staticClass:"upload-file-batch"},[a("a-upload",{staticClass:"avatar-uploader",attrs:{fileList:t.fileList,remove:t.handleRemove,multiple:!0,name:"zipFiles",action:"/aiplatform/datacenter/label/files",showUploadList:!1,beforeUpload:t.beforeUpload,data:t.beforeData,headers:t.headers,accept:"application/x-zip-compressed"},on:{change:t.handleChange}},[a("div",{staticClass:"avatar-uploader-batch"},[a("div",{staticClass:"auto-upload"},[a("a-icon",{staticClass:"icon-upload-file",attrs:{type:"plus"}}),a("div",{staticClass:"auto-upload-text"},[t._v("上传压缩包")])],1)])])],1),t.fileList.length>0?a("div",{staticClass:"upload-list"},t._l(t.fileList,(function(e,i){return a("div",{key:i},[a("div",{class:{list:!0,"upload-error":"error"===e.status||void 0===e.status},style:{marginLeft:t.fileList.length>1?"15px":"0"}},[a("i",{staticClass:"iconfont icongeshi_yasuobaozip zip-icon"}),a("div",{staticClass:"file-name"},[t._v(" "+t._s(e.name)+" ")]),a("div",{staticClass:"upload-percent",style:{height:e.percent&&"uploading"===e.percent?("100.00"===e.percent.toFixed(2)?"0":"100")+"%":"100",display:e.percent&&"uploading"!==e.status?"none":"flex"}},[a("a-icon",{staticStyle:{"font-size":"30px"},attrs:{type:"loading"}}),t._v(" "+t._s((e.percent&&e.percent.toFixed(2))+"%")+" ")],1),a("a-icon",{staticClass:"icon-close",attrs:{type:"close"},on:{click:function(a){return t.handleRemove(e)}}})],1)])})),0):t._e(),a("div",{staticClass:"btn"},[a("a-button",{attrs:{disabled:t.uploadDisbabled,type:"primary"},on:{click:t.saveFlieList}},[t._v("保存并完成")])],1)])])},S=[];function O(t){return k(t)||D(t)||x()}function x(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function D(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function k(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var j={data:function(){var t=this.$route.params.id,e=JSON.parse(localStorage.getItem("userInfo")),a=e.token;return{fileList:[],fileSuccessList:[],beforeData:{collectionId:t},uploadDisbabled:!0,headers:{token:a}}},methods:{filterOption:function(t,e){if(e&&e.componentOptions&&e.componentOptions.children&&e.componentOptions.children[0].text)return e.componentOptions.children[0].text.toLowerCase().indexOf(t.toLowerCase())>=0},handleChange:function(t){this.fileList=t.fileList,this.fileSuccessList=t.fileList.filter((function(t){return"done"===t.status})),"done"===t.file.status||void 0===t.file.status||"error"===t.file.status?this.fileSuccessList.length>0?this.uploadDisbabled=!1:this.uploadDisbabled=!0:"uploading"===t.file.status&&(this.uploadDisbabled=!0),"done"===t.file.status?this.$message.success("".concat(t.file.name," 文件上传成功！")):"error"===t.file.status&&this.$message.error("".concat(t.file.name," 文件上传失败！"))},beforeUpload:function(t){var e=["application/x-zip-compressed"],a=-1!==e.indexOf(t.type);if(!a)return this.$message.error("压缩包仅支持zip格式!"),!1;var i=t.size/1024/1024/1024<5;return i?(this.fileList=[].concat(O(this.fileList),[t]),!0):(this.$message.error("压缩包大小需要在5GB以内!"),!1)},handleRemove:function(t){var e=this.fileList.indexOf(t),a=this.fileList.slice();a.splice(e,1),this.fileList=a,this.fileSuccessList=a.filter((function(t){return"done"===t.status})),this.fileSuccessList.length>0?this.uploadDisbabled=!1:this.uploadDisbabled=!0},saveFlieList:function(){this.$router.push({name:"myDataList"})}},props:[""]},U=j,I=(a("3ddd"),Object(w["a"])(U,_,S,!1,null,"3ee24566",null)),$=I.exports,T=a("a06d"),Q=a("3073"),V={myDataList:1,myDataDetail:0,typeDetail:0},R={data:function(){var t=this.$route.params,e=t.id,a=t.name,i=t.from;return{myDataId:e,mydataName:a,from:i,imagesType:"图像分类",currentIndex:V[i],typeValue:"",isShowQues:!1,isShowSpinLoading:!1,dataTypeList:[],routes:[{path:"",breadcrumbName:"数据中心"},{path:"my-data",breadcrumbName:"我的数据集"},{path:"",breadcrumbName:a}]}},created:function(){var t=this;this.isShowSpinLoading=!0,this.$api.myDataModal.dataTypeList({currentPage:0,pageSize:9999,collectionId:this.myDataId}).then((function(e){t.isShowSpinLoading=!1,e&&e.data&&(t.dataTypeList=e.data.content)})).catch((function(){t.isShowSpinLoading=!1}))},methods:{handleAction:function(t){"myDataList"===this.from&&(this.currentIndex=t)},handleShowQues:function(){this.isShowQues=!this.isShowQues},filterOption:function(t,e){if(e&&e.componentOptions&&e.componentOptions.children&&e.componentOptions.children[0].text)return e.componentOptions.children[0].text.toLowerCase().indexOf(t.toLowerCase())>=0}},components:{Breadcrumb:s["a"],UploadSingle:C,BatchUpload:$,CommonQustion:T["a"],Spin:Q["a"]}},A=R,N=(a("c3d8"),Object(w["a"])(A,i,n,!1,null,"0973ccd0",null));e["default"]=N.exports},f372:function(t,e,a){}}]);